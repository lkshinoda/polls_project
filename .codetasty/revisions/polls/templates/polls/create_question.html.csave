codetasty.revision.2.0
{"ts":1594292350,"restoring":false,"user_id":37673,"patch":[{"diffs":[[1,"{% extends \"base.html\" %}\n\n{% block title %}\n    Создать вопрос\n{% endblock %}\n\n\n{% block body %}\n    <div class=\"container pt-1\">\n        <form method=\"POST\" id=\"question-form\">\n            {% csrf_token %}\n            <div class=\"form-group\">\n                <textarea class=\"form-control\" id=\"question_text\" placeholder=\"Вопрос\"></textarea>\n            </div>\n            <div class=\"form-group\">\n                <input type=\"text\" class=\"form-control\" id=\"true_answer\" placeholder=\"Правильный ответ\">\n            </div>\n            <div class=\"form-group\">\n                <input type=\"text\" class=\"form-control\" id=\"option_a\" placeholder=\"Ответ\">\n            </div>\n            <div class=\"form-group\">\n                <input type=\"text\" class=\"form-control\" id=\"option_b\" placeholder=\"Ответ\">\n            </div>\n            <div class=\"form-group\">\n                <input type=\"text\" class=\"form-control\" id=\"option_c\" placeholder=\"Ответ\">\n            </div>\n\n            <button type=\"submit\" class=\"btn btn-primary\">Создать</button>\n        </form>\n    </div>\n\n    <br>\n\n    <div class=\"row mb-2 questions\">\n        {% for question in questions %}\n            <div class=\"col-md-6\">\n                <div class=\"row no-gutters border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative\">\n                    <div class=\"col p-4 d-flex flex-column position-static\">\n                        <h3 class=\"mb-3\">{{question.question_text}}</h3>\n                        <li class=\"mb-auto\">{{question.true_answer}}</li>\n                        <li class=\"mb-auto\">{{question.option_a}}</li>\n                        <li class=\"mb-auto\">{{question.option_b}}</li>\n                        <li class=\"mb-auto\">{{question.option_c}}</li>\n                    </div>\n                </div>\n            </div>\n        {% endfor %}\n    </div>\n\n{% endblock %}\n\n<script src=\"/static/js/jquery-2.2.4.min.js\"></script>\n<script src=\"/static/js/bootstrap.min.js\"></script>\n<script>\n    $(document).on('submit', '#question-form',function(e){\n        e.preventDefault();\n        $.ajax({\n            type:'POST',\n            url:'{% url \"create_\" %}',\n            data:{\n                question_text:$('#question_text').val(),\n                true_answer:$('#true_answer').val(),\n                option_a:$('#option_a').val(),\n                option_b:$('#option_b').val(),\n                option_c:$('#option_c').val(),\n                csrfmiddlewaretoken:$('input[name=csrfmiddlewaretoken]').val(),\n                action: 'post'\n            },\n            success:function(json){\n                document.getElementById(\"question-form\").reset();\n                $(\".question\").prepend('<div class=\"col-md-6\">'+\n                    '<div class=\"row no-gutters border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative\">' +\n                        '<div class=\"col p-4 d-flex flex-column position-static\">' +\n                            '<h3 class=\"mb-0\">' + json.question_text + '</h3>' +\n                            '<p class=\"mb-auto\">' + json.true_answer + '</p>' +\n                            '<p class=\"mb-auto\">' + json.option_a + '</p>' +\n                            '<p class=\"mb-auto\">' + json.option_b + '</p>' +\n                            '<p class=\"mb-auto\">' + json.option_c + '</p>' +\n                        '</div>' +\n                    '</div>' +\n                '</div>'\n                )\n            },\n            error : function(xhr,errmsg,err) {\n            $('#results').html(\"<div class='alert-box alert radius' data-alert>Oops! We have encountered an error: \"+errmsg+\n                \" <a href='#' class='close'>&times;</a></div>\"); // add the error to the dom\n            console.log(xhr.status + \": \" + xhr.responseText); // provide a bit more info about the error to the console\n        }\n        });\n    });\n</script>"]],"start1":0,"start2":0,"length1":0,"length2":3887}],"length":3887}
{"ts":1594292353,"restoring":false,"user_id":37673,"patch":[{"diffs":[[0,"\"create_"],[1,"question"],[0,"\" %}',\n "]],"start1":2145,"start2":2145,"length1":16,"length2":24}],"length":3895}
{"ts":1594292367,"restoring":false,"user_id":37673,"patch":[{"diffs":[[0,"question"],[1,"s"],[0,"\").prepe"]],"start1":2686,"start2":2686,"length1":16,"length2":17}],"length":3896}
{"ts":1594292381,"restoring":false,"user_id":37673,"patch":[{"diffs":[[0,"ock "],[-1,"body"],[1,"content"],[0," %}\n"]],"start1":86,"start2":86,"length1":12,"length2":15}],"length":3899}
{"ts":1594292435,"restoring":false,"user_id":37673,"patch":[{"diffs":[[0,"ock %}\n\n"],[-1,"\n"],[1,"<body>\n    \n    "],[0,"{% block"]],"start1":72,"start2":72,"length1":17,"length2":32},{"diffs":[[0," content %}\n"],[1,"        {% block format_content %}\n        \n"],[0,"    <div cla"]],"start1":104,"start2":104,"length1":24,"length2":68}],"length":3958}
{"ts":1594292440,"restoring":false,"user_id":37673,"patch":[{"diffs":[[0,"block %}"],[1,"\n{% endblock %}"],[0,"\n\n<scrip"]],"start1":1928,"start2":1928,"length1":16,"length2":31}],"length":3973}
{"ts":1594292453,"restoring":false,"user_id":37673,"patch":[{"diffs":[[0,"%}\n        \n"],[1,"        "],[0,"    <div cla"]],"start1":148,"start2":148,"length1":24,"length2":32},{"diffs":[[0,"        "],[1,"  "],[1,"      "],[0,"<form me"]],"start1":201,"start2":201,"length1":16,"length2":24},{"diffs":[[0,"        "],[1,"    "],[1,"    "],[0,"{% csrf_"]],"start1":261,"start2":261,"length1":16,"length2":24},{"diffs":[[0,"rf_token %}\n"],[1,"        "],[0,"            "]],"start1":282,"start2":282,"length1":24,"length2":32},{"diffs":[[0,"s=\"form-group\">\n"],[1,"        "],[0,"                "]],"start1":323,"start2":323,"length1":32,"length2":40},{"diffs":[[0,"ea>\n            "],[-1,"</div>\n"],[1,"        </div>\n        "],[0,"            <div"]],"start1":442,"start2":442,"length1":39,"length2":55},{"diffs":[[0,"s=\"form-group\">\n"],[1,"        "],[0,"                "]],"start1":502,"start2":502,"length1":32,"length2":40},{"diffs":[[0,"т\">\n            "],[-1,"</div>\n"],[1,"        </div>\n        "],[0,"            <div"]],"start1":627,"start2":627,"length1":39,"length2":55},{"diffs":[[0,"                "],[1,"        "],[0,"<input type=\"tex"]],"start1":703,"start2":703,"length1":32,"length2":40},{"diffs":[[0,"т\">\n            "],[1,"        "],[0,"</div>\n         "]],"start1":798,"start2":798,"length1":32,"length2":40},{"diffs":[[0,"iv>\n            "],[1,"    "],[1,"    "],[0,"<div class=\"form"]],"start1":825,"start2":825,"length1":32,"length2":40},{"diffs":[[0,"s=\"form-group\">\n"],[1,"        "],[0,"                "]],"start1":858,"start2":858,"length1":32,"length2":40},{"diffs":[[0,"holder=\"Ответ\">\n"],[1,"        "],[0,"            </di"]],"start1":957,"start2":957,"length1":32,"length2":40},{"diffs":[[0,"iv>\n            "],[1,"        "],[0,"<div class=\"form"]],"start1":996,"start2":996,"length1":32,"length2":40},{"diffs":[[0,"s=\"form-group\">\n"],[1,"        "],[0,"                "]],"start1":1029,"start2":1029,"length1":32,"length2":40},{"diffs":[[0,"            "],[-1,"</div>\n\n"],[1,"        </div>\n        \n        "],[0,"            "]],"start1":1144,"start2":1144,"length1":32,"length2":56},{"diffs":[[0,"    "],[-1,"</form>\n    </div>\n\n    <br>\n\n"],[1,"        </form>\n            </div>\n        \n            <br>\n        \n        "],[0,"    "]],"start1":1267,"start2":1267,"length1":38,"length2":86},{"diffs":[[0,"        "],[1,"  "],[1,"      "],[0,"{% for q"]],"start1":1386,"start2":1386,"length1":16,"length2":24},{"diffs":[[0," %}\n            "],[1,"    "],[1,"    "],[0,"<div class=\"col-"]],"start1":1430,"start2":1430,"length1":32,"length2":40},{"diffs":[[0,"-md-6\">\n"],[1,"        "],[0,"        "]],"start1":1469,"start2":1469,"length1":16,"length2":24},{"diffs":[[0,"ative\">\n"],[1,"        "],[0,"        "]],"start1":1607,"start2":1607,"length1":16,"length2":24},{"diffs":[[0,"        "],[1,"        "],[0,"<h3 clas"]],"start1":1716,"start2":1716,"length1":16,"length2":24},{"diffs":[[0,"}}</h3>\n"],[1,"        "],[0,"        "]],"start1":1773,"start2":1773,"length1":16,"length2":24},{"diffs":[[0,"                "],[1,"    "],[1,"    "],[0,"<li class=\"mb-au"]],"start1":1871,"start2":1871,"length1":32,"length2":40},{"diffs":[[0,"option_a}}</li>\n"],[1,"        "],[0,"                "]],"start1":1926,"start2":1926,"length1":32,"length2":40},{"diffs":[[0,"option_b}}</li>\n"],[1,"        "],[0,"                "]],"start1":2005,"start2":2005,"length1":32,"length2":40},{"diffs":[[0,"                "],[1,"        "],[0,"</div>\n         "]],"start1":2104,"start2":2104,"length1":32,"length2":40},{"diffs":[[0,"                "],[1,"  "],[1,"      "],[0,"</div>\n         "]],"start1":2135,"start2":2135,"length1":32,"length2":40},{"diffs":[[0,"iv>\n            "],[1,"    "],[1,"    "],[0,"</div>\n        {"]],"start1":2162,"start2":2162,"length1":32,"length2":40},{"diffs":[[0,"        "],[1,"      "],[1,"  "],[0,"{% endfo"]],"start1":2193,"start2":2193,"length1":16,"length2":24},{"diffs":[[0,"% endfor %}\n"],[1,"        "],[0,"    </div>\n\n"]],"start1":2210,"start2":2210,"length1":24,"length2":32}],"length":4293}
{"ts":1594292455,"restoring":false,"user_id":37673,"patch":[{"diffs":[[0,"lock %}\n"],[1,"    "],[0,"{% endbl"]],"start1":2249,"start2":2249,"length1":16,"length2":20}],"length":4297}
{"ts":1594292457,"restoring":false,"user_id":37673,"patch":[{"diffs":[[0,"div>\n\n{%"],[1,"    "],[0," endbloc"]],"start1":2236,"start2":2236,"length1":16,"length2":20}],"length":4301}
{"ts":1594292462,"restoring":false,"user_id":37673,"patch":[{"diffs":[[0,"div>\n\n{%"],[-1,"    "],[0," endbloc"]],"start1":2236,"start2":2236,"length1":20,"length2":16}],"length":4297}
{"ts":1594292463,"restoring":false,"patch":[{"diffs":[[0,"</div>\n\n"],[1,"        "],[0,"{% endbl"]],"start1":2234,"start2":2234,"length1":16,"length2":24}],"length":4305}
{"ts":1594292465,"restoring":false,"user_id":37673,"patch":[{"diffs":[[0," </div>\n"],[-1,"\n"],[0,"        "]],"start1":2233,"start2":2233,"length1":17,"length2":16}],"length":4304}
{"ts":1594292501,"restoring":false,"user_id":37673,"patch":[{"diffs":[[0,"ml\" %}\n\n"],[1,"\n\n"],[0,"{% block"]],"start1":19,"start2":19,"length1":16,"length2":18},{"diffs":[[0,"    "],[-1,"Создать во"],[1,"О"],[0,"прос"],[1,"ы"],[0,"\n{% "]],"start1":47,"start2":47,"length1":22,"length2":14},{"diffs":[[0,"ock %}\n\n"],[1,"\n\n"],[0,"<body>\n "]],"start1":66,"start2":66,"length1":16,"length2":18}],"length":4300}
{"ts":1594292504,"restoring":false,"user_id":37673,"patch":[{"diffs":[[0,"    "],[-1,"Опрос"],[1,"Тест"],[0,"ы\n{%"]],"start1":47,"start2":47,"length1":13,"length2":12}],"length":4299}
{"ts":1594292520,"restoring":false,"user_id":37673,"patch":[{"diffs":[[0,"ock %}\n\n"],[1,"<body>\n\n"],[0,"<script "]],"start1":2271,"start2":2271,"length1":16,"length2":24}],"length":4307}
{"ts":1594292521,"restoring":false,"user_id":37673,"patch":[{"diffs":[[0,"ck %}\n\n<"],[1,"."],[0,"body>\n\n<"]],"start1":2272,"start2":2272,"length1":16,"length2":17}],"length":4308}
{"ts":1594292524,"restoring":false,"user_id":37673,"patch":[{"diffs":[[0,"ck %}\n\n<"],[-1,"."],[1,"/"],[0,"body>\n\n<"]],"start1":2272,"start2":2272,"length1":17,"length2":17}],"length":4308}
{"ts":1594292533,"restoring":false,"user_id":37673,"patch":[{"diffs":[[0,"\"></script>\n"],[1,"\n"],[0,"<script>\n   "]],"start1":2383,"start2":2383,"length1":24,"length2":25}],"length":4309}
{"ts":1594292535,"restoring":false,"user_id":37673,"patch":[{"diffs":[[0,"cript>\n\n"],[1,"\n"],[0,"<script>"]],"start1":2388,"start2":2388,"length1":16,"length2":17}],"length":4310}
{"ts":1594292537,"restoring":false,"user_id":37673,"patch":[{"diffs":[[0,"cript>\n\n"],[1,"{"],[0,"\n<script"]],"start1":2388,"start2":2388,"length1":16,"length2":17}],"length":4311}
{"ts":1594292546,"restoring":false,"user_id":37673,"patch":[{"diffs":[[0,"ript>\n\n{"],[1,"% block script"],[0,"\n<script"]],"start1":2389,"start2":2389,"length1":16,"length2":30}],"length":4325}
{"ts":1594292547,"restoring":false,"patch":[{"diffs":[[0,"k script"],[1,"s"],[0,"\n<script"]],"start1":2403,"start2":2403,"length1":16,"length2":17}],"length":4326}
{"ts":1594292548,"restoring":false,"user_id":37673,"patch":[{"diffs":[[0," scripts"],[1," %}"],[0,"\n<script"]],"start1":2404,"start2":2404,"length1":16,"length2":19}],"length":4329}
{"ts":1594292566,"restoring":false,"user_id":37673,"patch":[{"diffs":[[0,"   });\n</script>"],[1,"\n{% endblock %}"]],"start1":4313,"start2":4313,"length1":16,"length2":31}],"length":4344}
{"ts":1594292659,"restoring":false,"user_id":37673,"patch":[{"diffs":[[0,"n: '"],[-1,"post"],[1,"add"],[0,"'\n  "]],"start1":2972,"start2":2972,"length1":12,"length2":11}],"length":4343}
{"ts":1594292765,"restoring":false,"user_id":37673,"patch":[{"diffs":[[0,"ipts %}\n"],[1,"    "],[0,"<script>"]],"start1":2408,"start2":2408,"length1":16,"length2":20},{"diffs":[[0,"script>\n"],[1,"    "],[0,"    $(do"]],"start1":2421,"start2":2421,"length1":16,"length2":20},{"diffs":[[0,"        "],[1,"    "],[0,"e.preven"]],"start1":2492,"start2":2492,"length1":16,"length2":20},{"diffs":[[0,"        "],[1,"    "],[0,"$.ajax({"]],"start1":2524,"start2":2524,"length1":16,"length2":20},{"diffs":[[0,".ajax({\n"],[1,"    "],[0,"        "]],"start1":2537,"start2":2537,"length1":16,"length2":20},{"diffs":[[0,"        "],[1,"    "],[0,"url:'{% "]],"start1":2578,"start2":2578,"length1":16,"length2":20},{"diffs":[[0,"        "],[1,"    "],[0,"data:{\n "]],"start1":2629,"start2":2629,"length1":16,"length2":20},{"diffs":[[0,"        "],[1,"  "],[1,"  "],[0,"question"]],"start1":2656,"start2":2656,"length1":16,"length2":20},{"diffs":[[0,"        "],[1,"    "],[0,"true_ans"]],"start1":2717,"start2":2717,"length1":16,"length2":20},{"diffs":[[0,"            "],[1,"   "],[1," "],[0,"option_a:$('"]],"start1":2770,"start2":2770,"length1":24,"length2":28},{"diffs":[[0,"tion_a').val(),\n"],[1,"    "],[0,"                "]],"start1":2801,"start2":2801,"length1":32,"length2":36},{"diffs":[[0,"            "],[1,"    "],[0,"option_c:$('"]],"start1":2872,"start2":2872,"length1":24,"length2":28},{"diffs":[[0,"        "],[1," "],[1,"   "],[0,"csrfmidd"]],"start1":2927,"start2":2927,"length1":16,"length2":20},{"diffs":[[0,"        "],[1,"    "],[0,"action: "]],"start1":3011,"start2":3011,"length1":16,"length2":20},{"diffs":[[0,"dd'\n            "],[1,"   "],[1," "],[0,"},\n"],[1,"    "],[0,"            succ"]],"start1":3033,"start2":3033,"length1":35,"length2":43},{"diffs":[[0,"(json){\n"],[1,"    "],[0,"        "]],"start1":3088,"start2":3088,"length1":16,"length2":20},{"diffs":[[0,"        "],[1," "],[1,"   "],[0,"$(\".ques"]],"start1":3174,"start2":3174,"length1":16,"length2":20},{"diffs":[[0,"d-6\">'+\n"],[1,"    "],[0,"        "]],"start1":3228,"start2":3228,"length1":16,"length2":20},{"diffs":[[0,"                "],[1,"  "],[1,"  "],[0,"'<div class=\"col"]],"start1":3386,"start2":3386,"length1":32,"length2":36},{"diffs":[[0,"        "],[1,"    "],[0,"'<h3 cla"]],"start1":3487,"start2":3487,"length1":16,"length2":20},{"diffs":[[0,"+ '</h3>' +\n"],[1,"    "],[0,"            "]],"start1":3540,"start2":3540,"length1":24,"length2":28},{"diffs":[[0,"                "],[1,"    "],[0,"'<p class=\"mb-au"]],"start1":3648,"start2":3648,"length1":32,"length2":36},{"diffs":[[0,"on_a + '</p>' +\n"],[1,"    "],[0,"                "]],"start1":3701,"start2":3701,"length1":32,"length2":36},{"diffs":[[0,"                "],[1,"  "],[1,"  "],[0,"'<p class=\"mb-au"]],"start1":3810,"start2":3810,"length1":32,"length2":36},{"diffs":[[0,"                "],[1,"    "],[0,"'</div>' +\n     "]],"start1":3887,"start2":3887,"length1":32,"length2":36},{"diffs":[[0,"     '</div>' +\n"],[1,"    "],[0,"                "]],"start1":3902,"start2":3902,"length1":32,"length2":36},{"diffs":[[0,"                "],[1,"    "],[0,"'</div>'\n       "]],"start1":3953,"start2":3953,"length1":32,"length2":36},{"diffs":[[0,"        "],[1,"    "],[0,")\n      "]],"start1":3990,"start2":3990,"length1":16,"length2":20},{"diffs":[[0,"  )\n            "],[1," "],[-1,"},\n"],[1,"   },\n    "],[0,"            erro"]],"start1":4000,"start2":4000,"length1":35,"length2":43},{"diffs":[[0,"        "],[1,"   "],[1," "],[0,"$('#resu"]],"start1":4078,"start2":4078,"length1":16,"length2":20},{"diffs":[[0,"errmsg+\n"],[1,"    "],[0,"        "]],"start1":4195,"start2":4195,"length1":16,"length2":20},{"diffs":[[0,"        "],[1,"    "],[0,"console."]],"start1":4304,"start2":4304,"length1":16,"length2":20},{"diffs":[[0,"        "],[1," "],[-1,"}"],[1,"   }\n            });"],[0,"\n       "]],"start1":4425,"start2":4425,"length1":17,"length2":37},{"diffs":[[0,"});\n    "],[-1,"});\n"],[0,""],[1,""],[0,"</script"]],"start1":4463,"start2":4463,"length1":20,"length2":16}],"length":4495}
{"ts":1594292773,"restoring":false,"user_id":37673,"patch":[{"diffs":[[0,"\n<body>\n"],[-1,"    \n"],[0,"    {% b"]],"start1":74,"start2":74,"length1":21,"length2":16}],"length":4490}
{"ts":1594292800,"restoring":false,"user_id":37673,"patch":[{"diffs":[[0,"n-form\">"],[-1,"\n                    "],[0,"{% csrf_"]],"start1":238,"start2":238,"length1":37,"length2":16}],"length":4469}