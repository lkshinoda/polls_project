codetasty.revision.2.0
{"ts":1594292859,"restoring":false,"user_id":37673,"patch":[{"diffs":[[1,"{% extends \"base.html\" %}\n\n{% block title %}\n    Создать тест\n{% endblock %}\n\n{% block c %}\n    <form method=\"POST\" action=\"\">\n        {% csrf_token %}\n\n        <p>Название теста</p>\n        <p>{{ form.title }}</p>\n        <p>Описание</p>\n        <p>{{ form.description }}</p>\n\n\n\n\n\n        <button type=\"submit\" class=\"btn btn-primary\">Создать</button>\n    </form>\n{% endblock %}"]],"start1":0,"start2":0,"length1":0,"length2":379}],"length":379}
{"ts":1594292859,"restoring":false,"patch":[{"diffs":[[0," block c"],[1,"ontent"],[0," %}\n    "]],"start1":80,"start2":80,"length1":16,"length2":22}],"length":385}
{"ts":1594887486,"restoring":false,"user_id":37673,"patch":[{"diffs":[[1,"\n\n\n\n\n"],[0,"{% extends \""]],"start1":0,"start2":0,"length1":12,"length2":17}],"length":390}
{"ts":1594887487,"restoring":false,"user_id":37673,"patch":[{"diffs":[[1,"{% extends \"base.html\" %}\n\n{% block title %}\n    Создать свой тест\n{% endblock %}\n\n{% block nav_bar_menu %}\n\n\n    <li class=\"nav-item\">\n        <a class=\"nav-link \" href=\" {% url 'test_list' %} \"  role=\"button\" >\n            Список тестов\n        </a>\n    </li>\n\n    <li class=\"nav-item\">\n        <a class=\"nav-link \" href=\" {% url 'list_question' %} \"  role=\"button\" >\n            Список вопросов\n        </a>\n    </li>\n\n{% endblock %}\n\n{% block content %}\n\n    {% block format_content %}\n        <div class='mt-5'>\n                <form method=\"POST\" id=\"question-form\">\n                {% csrf_token %}      \n            \n                <div class='mt-4'>\n                    <p class=\"text-center\">Тест</p>\n                </div>\n                <div class=\"form-group\">\n                    <input name=\"test_title\" type=\"text\" class=\"form-control\" id=\"title\" placeholder=\"Название теста\" required oninvalid=\"this.setCustomValidity('Введите название теста')\" oninput=\"setCustomValidity('')\">\n                </div>\n                <div class=\"form-group\">\n                    <textarea name=\"test_description\" id=\"description\" class=\"form-control\" rows=\"3\" placeholder=\"Описание теста\" required oninvalid=\"this.setCustomValidity('Введите описание')\" oninput=\"setCustomValidity('')\"></textarea>\n                </div>\n                <div class='mt-4'>\n                    <p class=\"text-center\">Вопросы</p>\n                </div>\n                \n    \n                <div class='input-form'>\n                    <div class='mt-5'>\n                        <div class=\"form-group col-md-15\">\n                            <textarea name=\"question_1\" type=\"text\" class=\"form-control\" id=\"question_1\" placeholder=\"Вопрос\"></textarea>\n                        </div>\n                        <div class=\"form-group col-md-15\">\n                            <input name=\"correctanswer_1\" type=\"text\" class=\"form-control\" id=\"correctanswer_1\" placeholder=\"Верный ответ\">\n                        </div>\n                        <div class=\"form-group col-md-15\">\n                            <input name=\"answer-a_1\" type=\"text\" class=\"form-control\" id=\"answer-a_1\" placeholder=\"Вариант ответа\">\n                        </div>\n                        <div class=\"form-group col-md-15\">\n                            <input name=\"answer-b_1\" type=\"text\" class=\"form-control\" id=\"answer-b_1\" placeholder=\"Вариант ответа\">\n                        </div>\n                        <div class=\"form-group col-md-15\">\n                            <input name=\"answer-c_1\" type=\"text\" class=\"form-control\" id=\"answer-с_1\" placeholder=\"Вариант ответа\">\n                        </div>\n                    </div>\n                </div>\n               \n    \n                \n                <input type='button' id='but_add' value='Add new' class=\"btn btn-outline-primary\">\n                \n                \n                <div class='mt-5 text-center'>\n                    <button type=\"submit\" class=\"btn btn-primary btn-lg\" id=\"question-form\">Создать тест</button>\n                </div>\n                \n            </form>\n            \n        </div>\n                \n        \n    {% endblock %}\n{% endblock %}\n\n{% block scripts %}\n    <script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js\"></script>\n    \n    <script>\n        $(document).ready(function(){\n         \n            $('#but_add').click(function(){\n            \n                // Selecting last id \n                var lastname_id = $('.input-form input[type=text]:nth-child(1)').last().attr('name');\n                var split_id = lastname_id.split('_');\n                \n                // New index\n                var index = Number(split_id[1]) + 1;\n                \n                \n                // Create clone\n                var newel = $('.input-form:last').clone(true);\n                \n                \n                // Set id of new element\n                $(newel).find('[class|=\"form-group col-md-15\"]:nth-child(1)>textarea').attr(\"name\",\"question_\"+index);\n                $(newel).find('[class|=\"form-group col-md-15\"]:nth-child(2)>input').attr(\"name\",\"correctanswer_\"+index);\n                $(newel).find('[class|=\"form-group col-md-15\"]:nth-child(3)>input').attr(\"name\",\"answer-a_\"+index);\n                $(newel).find('[class|=\"form-group col-md-15\"]:nth-child(4)>input').attr(\"name\",\"answer-b_\"+index);\n                $(newel).find('[class|=\"form-group col-md-15\"]:nth-child(5)>input').attr(\"name\",\"answer-c_\"+index);\n        \n                // Set value\n                $(newel).find('[class|=\"form-group col-md-15\"]:nth-child(1)>textarea').val('');\n                $(newel).find('[class|=\"form-group col-md-15\"]:nth-child(2)>input').val('');\n                $(newel).find('[class|=\"form-group col-md-15\"]:nth-child(3)>input').val('');\n                $(newel).find('[class|=\"form-group col-md-15\"]:nth-child(4)>input').val('');\n                $(newel).find('[class|=\"form-group col-md-15\"]:nth-child(5)>input').val('');\n        \n                // Insert element\n                $(newel).insertAfter(\".input-form:last\");\n            });\n        \n        });\n    </script>\n    \n\n    \n    \n    <script>\n        \n       /*   --------------------------------------------------------------*/\n        /*  Функция для прокрутки с контролем скорости\n        /*  --------------------------------------------------------------*/\n        function scrollTo(to, duration = 700) {\n            const\n                element = document.scrollingElement || document.documentElement,\n                start = element.scrollTop,\n                change = to - start,\n                startDate = +new Date(),\n                // t = current time\n                // b = start value\n                // c = change in value\n                // d = duration\n                easeInOutQuad = function (t, b, c, d) {\n                    t /= d / 2;\n                    if (t < 1) return c / 2 * t * t + b;\n                    t--;\n                    return -c / 2 * (t * (t - 2) - 1) + b;\n                },\n                animateScroll = function () {\n                    const currentDate = +new Date();\n                    const currentTime = currentDate - startDate;\n                    element.scrollTop = parseInt(easeInOutQuad(currentTime, start, change, duration));\n                    if (currentTime < duration) {\n                        requestAnimationFrame(animateScroll);\n                    }\n                    else {\n                        element.scrollTop = to;\n                    }\n                };\n            animateScroll();\n        }\n    </script>\n    \n    \n{% endblock %}\n"],[0,"\n\n\n\n\n{% exte"]],"start1":0,"start2":0,"length1":12,"length2":6684}],"length":7062}
{"ts":1594887493,"restoring":false,"user_id":37673,"patch":[{"diffs":[[0,"\n\n\n\n"],[-1,"{% extends \"base.html\" %}\n\n{% block title %}\n    Создать тест\n{% endblock %}\n\n{% block content %}\n    <form method=\"POST\" action=\"\">\n        {% csrf_token %}\n\n        <p>Название теста</p>\n        <p>{{ form.title }}</p>\n        <p>Описание</p>\n        <p>{{ form.description }}</p>\n\n\n\n\n\n        <button type=\"submit\" class=\"btn btn-primary\">Создать</button>\n    </form>\n{% endblock %}"]],"start1":6673,"start2":6673,"length1":389,"length2":4}],"length":6677}
{"ts":1594887495,"restoring":false,"user_id":37673,"patch":[{"diffs":[[0,"lock %}\n"],[-1,"\n\n\n\n\n"]],"start1":6664,"start2":6664,"length1":13,"length2":8}],"length":6672}
{"ts":1594887770,"restoring":false,"user_id":37673,"patch":[{"diffs":[[0,"%}\n\n"],[-1,"    {% block format_content %}"],[0,"\n   "]],"start1":455,"start2":455,"length1":38,"length2":8}],"length":6642}
{"ts":1594887773,"restoring":false,"user_id":37673,"patch":[{"diffs":[[0,"   \n"],[-1,"    {% endblock %}"],[0,"\n{% "]],"start1":3123,"start2":3123,"length1":26,"length2":8}],"length":6624}